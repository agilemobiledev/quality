@(org: com.gilt.quality.models.Organization,
  incidents: Seq[com.gilt.quality.models.Incident],
  showTeam: Boolean = true,
  meeting: Option[com.gilt.quality.models.Meeting] = None
)

<table class="table table-hover table-condensed">
  <thead>
    <tr>
      <th>#</th>
      <th>Created</th>
      <th>Severity</th>
      <th>Plan</th>
      @if(showTeam) { <th>Team</th> }
      <th>Summary</th>
    </tr>
  </thead>
  <tbody>
    @incidents.map { incident =>
     <tr>
       <td><a href="@routes.Incidents.show(org.key, incident.id, meetingId = meeting.map(_.id))">@incident.id</a></td>
       <td>@core.DateHelper.shortDate(org, incident.createdAt)</td>
       <td>@incident.severity</td>
       <td>
         @if(incident.plan.isEmpty) {
           - 
         } else {
           @if(incident.plan.get.grade.isEmpty) {
             Uploaded
           } else {
             @Html(lib.GradeImage.imageTag(incident.team, incident.plan.get.grade))
           }
         }
       </td>
       @if(showTeam) { <td>@incident.team.map(_.key).getOrElse("")</td> }
       <td>@incident.summary</td>
     </tr>
   }
  </tbody>
</table>
